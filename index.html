<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Study Quest for Sham ğŸŒŸ</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body {
      background: linear-gradient(135deg,#0f0c29,#302b63,#24243e);
      min-height:100vh; display:flex; justify-content:center; align-items:center; overflow:hidden; position:relative; color:white;
    }
    .star { position:absolute; background:white; border-radius:50%; opacity:0.7; z-index:1; pointer-events:none; animation:twinkle var(--duration,4s) infinite ease-in-out; }
    @keyframes twinkle { 0%,100%{opacity:.3; transform:scale(.8);} 50%{opacity:1; transform:scale(1.2);} }
    .game-container {
      text-align:center; background:rgba(255,255,255,0.96); padding:50px 40px; border-radius:36px; box-shadow:0 25px 60px rgba(0,0,0,.5);
      max-width:650px; z-index:10; position:relative; transform:scale(1); transition:transform .3s;
    }
    .game-container:hover { transform:scale(1.02); }
    h1 { color:#2c3e50; font-size:40px; margin-bottom:22px; text-shadow:0 1px 3px rgba(0,0,0,.1); }
    p { font-size:20px; color:#34495e; margin:18px 0; line-height:1.7; font-weight:500; }
    .bubbles { display:grid; grid-template-columns:repeat(4,1fr); gap:20px; margin:40px auto; max-width:480px; }
    .bubble {
      width:95px; height:95px; border-radius:50%; background:linear-gradient(135deg,#a1c4fd,#c2e9fb);
      display:flex; justify-content:center; align-items:center; font-size:36px; cursor:pointer;
      transition:all .35s cubic-bezier(.175,.885,.32,1.275); box-shadow:0 6px 16px rgba(0,0,0,.2); user-select:none; position:relative; overflow:hidden;
    }
    .bubble::before { content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%; background:radial-gradient(circle, rgba(255,255,255,.6) 0%, transparent 70%); opacity:0; transition:opacity .3s; }
    .bubble:hover { transform:scale(1.18) rotate(5deg); box-shadow:0 10px 25px rgba(44,62,80,.4); }
    .bubble:hover::before { opacity:1; }
    .bubble.clicked { background:linear-gradient(135deg,#27ae60,#2ecc71) !important; color:white; transform:scale(1.1) rotate(0deg); box-shadow:0 0 25px rgba(39,174,96,.9); animation:successPulse 1s; }
    @keyframes successPulse { 
      0%{box-shadow:0 0 0 0 rgba(46,204,113,.8); transform:scale(1);} 
      50%{box-shadow:0 0 0 15px rgba(46,204,113,0); transform:scale(1.15);} 
      100%{box-shadow:0 0 0 0 rgba(46,204,113,0); transform:scale(1.1);} 
    }
    .bubble.wrong { background:linear-gradient(135deg,#e74c3c,#c0392b) !important; color:white; opacity:.7; transform:scale(.85); box-shadow:0 0 15px rgba(231,76,60,.6); animation:shake 0.5s; }
    @keyframes shake { 0%,100%{transform:translateX(0) scale(.85);} 25%{transform:translateX(-8px) scale(.85);} 75%{transform:translateX(8px) scale(.85);} }
    .hint { font-style:italic; color:#2980b9; margin-top:25px; font-size:19px; font-weight:600; }
    .progress { display:flex; justify-content:center; gap:12px; margin-top:20px; }
    .progress-dot { width:16px; height:16px; border-radius:50%; background:#bdc3c7; transition:all .4s; box-shadow:0 2px 4px rgba(0,0,0,.1); }
    .progress-dot.active { background:linear-gradient(135deg,#27ae60,#2ecc71); transform:scale(1.4); box-shadow:0 0 12px rgba(39,174,96,.6); }
    .level-indicator { display:flex; justify-content:center; gap:8px; margin:15px 0; }
    .level-dot { width:10px; height:10px; border-radius:50%; background:#bdc3c7; transition:all .3s; }
    .level-dot.active { background:linear-gradient(135deg,#27ae60,#2ecc71); box-shadow:0 0 8px rgba(39,174,96,.6); transform:scale(1.3); }
    .surprise, .try-again, .skip-confirm, .question-modal, .challenge-modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(10,10,25,.95); display:none; justify-content:center; align-items:center; z-index:200; flex-direction:column; backdrop-filter:blur(5px); padding:20px; }
    .surprise-content, .try-again-content, .skip-confirm-content, .question-content, .challenge-content { background:white; padding:50px 40px; border-radius:40px; text-align:center; max-width:650px; width:90%; box-shadow:0 20px 70px rgba(0,0,0,.6); animation:popIn .8s cubic-bezier(.175,.885,.32,1.275); max-height:85vh; overflow-y:auto; }
    .surprise-content h2, .try-again-content h2, .skip-confirm-content h2, .question-content h2, .challenge-content h2 { color:#2c3e50; font-size:32px; margin-bottom:20px; line-height:1.4; }
    .surprise-content p, .try-again-content p, .skip-confirm-content p, .question-content p, .challenge-content p { color:#34495e; font-size:18px; line-height:1.8; }
    @keyframes popIn { 0%{transform:scale(.5);opacity:0} 100%{transform:scale(1);opacity:1} }
    .close-btn, .try-again-btn, .skip-btn, .question-btn, .challenge-btn { margin-top:25px; padding:16px 50px; border-radius:50px; font-size:21px; font-weight:700; cursor:pointer; border:none; box-shadow:0 8px 25px rgba(26,42,108,.6); transition:all .3s; }
    .close-btn, .try-again-btn { background:linear-gradient(135deg,#2980b9,#1a2a6c); color:white; }
    .close-btn:hover, .try-again-btn:hover { transform:translateY(-3px); box-shadow:0 12px 30px rgba(26,42,108,.8); }
    .skip-btn.confirm { background:linear-gradient(135deg,#e74c3c,#c0392b); color:white; }
    .skip-btn.cancel { background:linear-gradient(135deg,#2980b9,#1a2a6c); color:white; }
    .question-btn.submit { background:linear-gradient(135deg,#2980b9,#1a2a6c); color:white; }
    .question-btn.cancel { background:linear-gradient(135deg,#e74c3c,#c0392b); color:white; }
    .question-btn.challenge { background:linear-gradient(135deg,#2ecc71,#27ae60); color:white; }
    .challenge-btn.complete { background:linear-gradient(135deg,#2ecc71,#27ae60); color:white; }
    .challenge-btn.back { background:linear-gradient(135deg,#2980b9,#1a2a6c); color:white; }
    .confetti { position:absolute; width:12px; height:12px; z-index:199; pointer-events:none; }
    .level-complete { display:none; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:rgba(255,255,255,.95); padding:40px 60px; border-radius:30px; text-align:center; box-shadow:0 20px 60px rgba(0,0,0,.3); z-index:100; animation:popIn .8s cubic-bezier(.175,.885,.32,1.275); }
    .level-complete h3 { color:#2c3e50; font-size:36px; margin-bottom:20px; }
    .level-complete p { color:#34495e; font-size:22px; margin-bottom:30px; line-height:1.7; }
    .attempts { margin-top:15px; font-size:18px; color:#e74c3c; font-weight:600; }
    .timer { font-size:26px; font-weight:bold; color:#e74c3c; margin:15px 0; text-shadow:0 2px 4px rgba(0,0,0,.3); }
    .pairs-found { font-size:20px; color:#2980b9; font-weight:600; margin-top:10px; }
    .moves { font-size:18px; color:#e67e22; font-weight:600; margin-top:8px; }
    .memory-grid { display:grid; gap:15px; margin:30px auto; max-width:420px; width:100%; }
    .memory-card { width:80px; height:80px; perspective:1000px; margin:0 auto; cursor:pointer; }
    .memory-card-inner { position:relative; width:100%; height:100%; text-align:center; transition:transform .5s; transform-style:preserve-3d; }
    .memory-card.flipped .memory-card-inner { transform:rotateY(180deg); }
    .memory-card-front, .memory-card-back { position:absolute; width:100%; height:100%; backface-visibility:hidden; display:flex; justify-content:center; align-items:center; border-radius:18px; font-size:32px; box-shadow:0 4px 12px rgba(0,0,0,.2); }
    .memory-card-front { background:linear-gradient(135deg,#a1c4fd,#c2e9fb); transform:rotateY(0deg); }
    .memory-card-back { background:linear-gradient(135deg,#667eea,#764ba2); color:white; transform:rotateY(180deg); }
    .memory-card.matched .memory-card-inner { transform:rotateY(180deg); }
    .memory-card.matched .memory-card-front, .memory-card.matched .memory-card-back { opacity:0.4; filter:grayscale(0.5); pointer-events:none; }
    .skip-button { position:absolute; top:20px; right:20px; background:linear-gradient(135deg,#e74c3c,#c0392b); color:white; border:none; border-radius:50px; padding:12px 20px; font-size:18px; font-weight:700; cursor:pointer; transition:all .3s; box-shadow:0 6px 20px rgba(231,76,60,.6); z-index:11; }
    .skip-button:hover { transform:translateY(-3px) scale(1.05); box-shadow:0 10px 25px rgba(231,76,60,.8); }
    .question-input { width:80%; padding:15px 20px; font-size:20px; border:2px solid #bdc3c7; border-radius:15px; margin-bottom:30px; text-align:center; transition:border-color 0.3s; }
    .answer-confirmation { margin-top:20px; font-size:18px; color:#2980b9; font-weight:600; min-height:24px; }
    @media (max-width:520px) {
      .game-container { padding:30px 16px; max-width:92vw; }
      .bubble { width:75px; height:75px; font-size:28px;}
      .bubbles { gap:12px; max-width:95%; grid-template-columns:repeat(4,1fr); }
      .memory-card { width:65px; height:65px;}
      .memory-card-front, .memory-card-back { font-size:24px; }
      .memory-grid { max-width:95%; gap:8px; }
      .surprise-content, .try-again-content, .skip-confirm-content, .question-content, .challenge-content { padding:30px 20px; max-height:90vh; }
      .surprise-content h2, .try-again-content h2, .skip-confirm-content h2, .question-content h2, .challenge-content h2 { font-size:24px; }
      .surprise-content p, .try-again-content p, .skip-confirm-content p { font-size:15px; line-height:1.6; }
    }
    .morning-message { position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:50px 60px; border-radius:30px; text-align:center; box-shadow:0 30px 80px rgba(0,0,0,.4); z-index:9999; font-family:'Segoe UI',sans-serif; }
    .morning-message h2 { color:#2c3e50; margin-bottom:15px; }
    .morning-message p { color:#34495e; font-size:20px; line-height:1.8; }
    .morning-message .close-btn { margin-top:25px; padding:14px 40px; font-size:18px; }
    .secret-note { position: fixed; bottom: 20px; right: 20px; background: linear-gradient(135deg, #2980b9, #1a2a6c); color: white; padding: 15px 25px; border-radius: 30px; font-size: 17px; box-shadow: 0 10px 30px rgba(0,0,0,.4); z-index: 9999; animation: fadeInUp 0.8s ease-out; max-width: 280px; text-align: center; }
    @keyframes fadeInUp { from { opacity:0; transform:translateY(30px); } to { opacity:1; transform:translateY(0); } }
  </style>
</head>
<body>
<script>
  for (let i = 0; i < 80; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + 'vw';
    star.style.top = Math.random() * 100 + 'vh';
    star.style.width = (Math.random() * 4 + 1) + 'px';
    star.style.height = star.style.width;
    star.style.setProperty('--duration', (Math.random() * 5 + 3) + 's');
    star.style.animationDelay = Math.random() * 5 + 's';
    document.body.appendChild(star);
  }
</script>
<div class="game-container" id="gameContainer">
  <h1 id="levelTitle">ğŸ“š Find the 3 Study Symbols!</h1>
  <p id="levelDescription">Help <strong>Sham</strong> unlock his potential!<br>Click carefully to find the <u>3 knowledge symbols</u> among the distractions.</p>
  <div class="level-indicator" id="levelIndicator">
    <div class="level-dot active"></div><div class="level-dot"></div><div class="level-dot"></div><div class="level-dot"></div><div class="level-dot"></div><div class="level-dot"></div><div class="level-dot"></div><div class="level-dot"></div><div class="level-dot"></div>
  </div>
  <div class="bubbles" id="bubbles"></div>
  <p class="hint" id="hint">Begin your quest, Sham! Click any symbol...</p>
  <div class="attempts" id="attempts">Attempts: 0/5</div>
  <div class="timer" id="timer" style="display:none;">Time: 60s</div>
  <div class="pairs-found" id="pairsFound" style="display:none;">Pairs Found: 0/3</div>
  <div class="moves" id="moves" style="display:none;">Moves: 0</div>
  <div class="progress" id="progress">
    <div class="progress-dot active"></div><div class="progress-dot"></div><div class="progress-dot"></div>
  </div>
  <button class="skip-button" id="skipButton">Skip Level</button>
</div>
<div class="surprise" id="surprise">
  <div class="surprise-content">
    <h2>ğŸ“ I'm So Proud of You, Sham! â¤ï¸</h2>
    <p style="margin-bottom:25px;">I know you've been through so many difficult times, and I'm truly sorry for everything that happened to you.<br><br>I want to tell you: <strong>Keep going. Be stronger.</strong><br>I'm afraid for you â€” afraid of sadness, of losses, of the world's sorrows.<br>I'm afraid your heart might break, afraid you might feel overwhelmed.<br><br>I want to protect you from everything that hurts you, every single moment.<br>I entrust you to Allah every second. â¤ï¸ğŸ’•<br><br><strong style="color:#e74c3c; font-size:22px;">You are my favorite.</strong><br><br><em style="color:#2980b9; font-size:19px; display:block; margin:20px 0;">Remember: Every challenge you face is shaping you into someone extraordinary.<br>Your effort today becomes your strength tomorrow.<br>You're not just studying â€” you're building dreams into reality.</em><br>I believe in you more than you know.<br>When the nights get long and the books seem endless, remember:<br><strong>You are capable of incredible things.</strong><br><br>May Allah protect your heart, guide your path, and grant you success in everything you do.<br>May He ease your worries and fill your days with peace and happiness.<br><br><strong style="color:#27ae60; font-size:20px;">Your journey is just beginning, and I'm so excited to see where it takes you! âœ¨ğŸŒŸ</strong></p>
    <button class="close-btn" id="closeBtn">Play Again</button>
  </div>
</div>
<div class="level-complete" id="levelComplete">
  <h3>ğŸ‰ Level Complete!</h3>
  <p>Great job, Sham! You've mastered this level. Get ready for the next challenge!</p>
  <button class="close-btn" id="nextLevelBtn">Next Level</button>
</div>
<div class="try-again" id="tryAgain">
  <div class="try-again-content">
    <h2>ğŸ˜” Out of Attempts!</h2>
    <p>Don't worry, Sham! Every mistake makes you stronger.<br><br>Take a breath and try again! ğŸ’ª</p>
    <button class="try-again-btn" id="tryAgainBtn">Try Again</button>
  </div>
</div>
<div class="skip-confirm" id="skipConfirm">
  <div class="skip-confirm-content">
    <h2>âš ï¸ Skip This Level?</h2>
    <p>You'll need to answer a personal question correctly to skip.<br><br>Ready for the challenge?</p>
    <div style="display:flex; gap:15px; justify-content:center; flex-wrap:wrap; margin-top:30px;">
      <button class="skip-btn cancel" id="cancelSkip">Keep Trying</button>
      <button class="skip-btn confirm" id="confirmSkip">Answer Question</button>
    </div>
  </div>
</div>
<div class="question-modal" id="questionModal">
  <div class="question-content">
    <h2>ğŸ’Œ Personal Question</h2>
    <p id="questionText">What is the first time we met?</p>
    <input type="text" class="question-input" id="questionInput" placeholder="Type your answer...">
    <div class="answer-confirmation" id="answerConfirmation"></div>
    <div style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:20px;">
      <button class="question-btn cancel" id="cancelQuestion">Back</button>
      <button class="question-btn challenge" id="challengeQuestion">Take Challenge Instead</button>
      <button class="question-btn submit" id="submitQuestion">Submit Answer</button>
    </div>
  </div>
</div>
<div class="challenge-modal" id="challengeModal">
  <div class="challenge-content">
    <h2>ğŸ† Special Challenge</h2>
    <p><strong>Challenge:</strong> Send LET a message saying<br>"I completed the challenge for Sham!"<br><br>Once done, click below to reveal the answer.</p>
    <div style="display:flex; gap:15px; justify-content:center; flex-wrap:wrap; margin-top:30px;">
      <button class="challenge-btn back" id="backFromChallenge">Back</button>
      <button class="challenge-btn complete" id="completeChallenge">I Completed It!</button>
    </div>
  </div>
</div>
<script>
const levelThemes=[{name:'study',symbols:['ğŸ“š','ğŸ§ ','ğŸ“','ğŸ’¡','âœï¸','ğŸ”','ğŸ¯','ğŸŒŸ','ğŸš€','ğŸ†','ğŸ“Š','ğŸ”¬','ğŸ“–','ğŸ§®','ğŸŒ','ğŸ“ˆ'],color1:'#a1c4fd',color2:'#c2e9fb'},{name:'nature',symbols:['ğŸŒ¸','ğŸŒº','ğŸŒ»','ğŸŒ¹','ğŸŒ·','ğŸŒ±','ğŸŒ¿','ğŸ€','ğŸŒ¾','ğŸŒ³','ğŸŒ²','ğŸŒ´','ğŸ','ğŸ‚','ğŸŒµ','ğŸŒ¼'],color1:'#84fab0',color2:'#8fd3f4'},{name:'space',symbols:['ğŸŒŸ','â­','âœ¨','ğŸ’«','ğŸŒ™','ğŸŒ›','ğŸŒœ','ğŸŒ ','ğŸª','ğŸŒŒ','â˜„ï¸','ğŸ›¸','ğŸš€','ğŸ›°ï¸','ğŸŒ','ğŸŒ'],color1:'#667eea',color2:'#764ba2'},{name:'food',symbols:['ğŸ•','ğŸ”','ğŸŸ','ğŸŒ­','ğŸ¿','ğŸ§','ğŸ°','ğŸ‚','ğŸª','ğŸ©','ğŸ¦','ğŸ¨','ğŸ§','ğŸ¥¤','ğŸ¹','ğŸ·'],color1:'#ff9a9e',color2:'#fecfef'},{name:'animals',symbols:['ğŸ¶','ğŸ±','ğŸ­','ğŸ¹','ğŸ°','ğŸ¦Š','ğŸ»','ğŸ¼','ğŸ¨','ğŸ¯','ğŸ¦','ğŸ®','ğŸ·','ğŸ¸','ğŸµ','ğŸ”'],color1:'#ffecd2',color2:'#fcb69f'},{name:'tech',symbols:['ğŸ’»','âŒ¨ï¸','ğŸ–±ï¸','ğŸ–¥ï¸','ğŸ“±','â˜ï¸','ğŸ“','ğŸ“Ÿ','ğŸ“ ','ğŸ”‹','ğŸ”Œ','ğŸ’¡','ğŸ”¦','ğŸ’¾','ğŸ’¿','ğŸ“€'],color1:'#4facfe',color2:'#00f2fe'}];
const personalQuestions=[{question:"What is the first time we met?",answers:["4/9","4/9/2025","4/9/25","april 9","april 9th","april 9, 2025","04/09","04/09/2025"]},{question:"What was my age when I used the PC?",answers:["4","four","4 years old","four years old"]},{question:"Did I support you enough?",answers:["yes","absolutely","definitely","of course","totally"]},{question:"What is something you noticed about me but never mentioned?",answers:["let","sham","let/sham","sham/let"]},{question:"Is there something I do that bothers you?",answers:["let","sham"]},{question:"What is one thing about me that always makes you smile?",answers:["let","sham"]},{question:"What about me surprised you as you got to know me better?",answers:["let","sham"]},{question:"What is something I used to do for you but now no longer do, and you want me to do it again?",answers:["let","sham"]},{question:"What is something we used to do that you miss and wish we did it more?",answers:["let","sham"]}];
function getRandomTheme(){return levelThemes[Math.floor(Math.random()*levelThemes.length)];}
function generateRandomLevels(){const t1=getRandomTheme(),t2=getRandomTheme(),t3=getRandomTheme(),t4=getRandomTheme(),t5=getRandomTheme(),t6=getRandomTheme();return [{title:`${t1.symbols[0]} Find the 3 ${t1.name.charAt(0).toUpperCase()+t1.name.slice(1)} Symbols!`,description:"Help <strong>Sham</strong> unlock his potential!<br>Click carefully to find the <u>3 special symbols</u> among the distractions.",symbols:shuffle([...t1.symbols]).slice(0,12),correctCount:3,maxAttempts:5,correctSymbols:null,canSkip:true,theme:t1},{title:`${t2.symbols[1]} Level 2: Spot the 4 Icons!`,description:"Sham is growing smarter! Find the <u>4 special symbols</u> among more distractions.",symbols:shuffle([...t2.symbols]).slice(0,16),correctCount:4,maxAttempts:6,correctSymbols:null,canSkip:true,theme:t2},{title:`ğŸ§© Level 3: Pattern Recognition!`,description:"Watch the pattern carefully, then recreate it from memory!",type:"pattern",patternLength:5,showTime:4000,canSkip:true,theme:t3},{title:`ğŸ”¤ Level 4: Word Scramble!`,description:"Unscramble these motivational words to continue!",type:"wordscramble",words:["SUCCESS","DREAM","STUDY","FOCUS","SMART"],canSkip:true,theme:t4},{title:`${t4.symbols[0]}${t4.symbols[1]} Level 5: Memory Challenge!`,description:"Test your memory, Sham! Match the <u>4 pairs</u> within 45 seconds!",type:"memory",pairs:4,symbols:shuffle([...t4.symbols]).slice(0,8),maxTime:45,maxMoves:20,canSkip:true,theme:t4},{title:`ğŸ“– Level 6: Sham's Journey!`,description:"Read this inspiring message and answer the question!",type:"story",canSkip:true,theme:t5},{title:`âš¡ Level 7: Speed Memory!`,description:"Quick reflexes needed! Match <u>5 pairs</u> in just 35 seconds!",type:"memory",pairs:5,symbols:shuffle([...t5.symbols]).slice(0,10),maxTime:35,maxMoves:25,canSkip:true,theme:t5},{title:`ğŸ”¢ Level 8: Math Sprint!`,description:"Solve these quick math problems! You have 60 seconds!",type:"math",questionsCount:8,maxTime:60,canSkip:true,theme:t6},{title:`ğŸ† ULTIMATE CHALLENGE!`,description:"The final test! Match <u>6 pairs</u> in 30 seconds with only 22 moves!",type:"memory",pairs:6,symbols:shuffle([...t6.symbols]).slice(0,12),maxTime:30,maxMoves:22,canSkip:true,theme:t6}];}
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function getRandomQuestion(){if(usedQuestionIndices.length>=personalQuestions.length)usedQuestionIndices=[];const orderedIndices=[0,1,2,3,4,5,6,7,8];const available=orderedIndices.filter(i=>!usedQuestionIndices.includes(i));if(available.length===0){usedQuestionIndices=[];return personalQuestions[0];}const idx=available[0];usedQuestionIndices.push(idx);return personalQuestions[idx];}
function createConfetti(){const colors=['#2980b9','#1a2a6c','#f1c40f','#2ecc71','#e74c3c','#9b59b6','#3498db'];for(let i=0;i<120;i++){const confetti=document.createElement('div');confetti.className='confetti';confetti.style.left=Math.random()*100+'vw';confetti.style.top='-10px';confetti.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)];confetti.style.width=(Math.random()*12+8)+'px';confetti.style.height=confetti.style.width;confetti.style.borderRadius=Math.random()>.5?'50%':'0';document.body.appendChild(confetti);const anim=confetti.animate([{top:'-10px',opacity:1,transform:'rotate(0deg)'},{top:'100vh',opacity:0,transform:`rotate(${Math.random()*360}deg)`}],{duration:Math.random()*3500+2500,easing:'cubic-bezier(.1,.8,.2,1)'});anim.onfinish=()=>confetti.remove();}}
let levels=generateRandomLevels();
let currentLevel=0;
let clicks=0,correctClicks=0,attempts=0,timer=null,timeLeft=0;
let flippedCards=[],matchedPairs=0,moves=0;
let usedQuestionIndices=[];
let patternSequence=[],playerPattern=[];
let currentWordIndex=0;
let mathQuestions=[],currentMathIndex=0,mathCorrect=0;
const gameContainer=document.getElementById('gameContainer');
const bubblesContainer=document.getElementById('bubbles');
const hint=document.getElementById('hint');
const surprise=document.getElementById('surprise');
const closeBtn=document.getElementById('closeBtn');
const progressDots=document.querySelectorAll('#progress .progress-dot');
const levelTitle=document.getElementById('levelTitle');
const levelDescription=document.getElementById('levelDescription');
const attemptsDisplay=document.getElementById('attempts');
const timerDisplay
=document.getElementById('timer');
const pairsFoundDisplay=document.getElementById('pairsFound');
const movesDisplay=document.getElementById('moves');
const levelComplete=document.getElementById('levelComplete');
const nextLevelBtn=document.getElementById('nextLevelBtn');
const tryAgain=document.getElementById('tryAgain');
const tryAgainBtn=document.getElementById('tryAgainBtn');
const skipButton=document.getElementById('skipButton');
const skipConfirm=document.getElementById('skipConfirm');
const cancelSkipBtn=document.getElementById('cancelSkip');
const confirmSkipBtn=document.getElementById('confirmSkip');
const questionModal=document.getElementById('questionModal');
const questionText=document.getElementById('questionText');
const questionInput=document.getElementById('questionInput');
const submitQuestionBtn=document.getElementById('submitQuestion');
const cancelQuestionBtn=document.getElementById('cancelQuestion');
const challengeQuestionBtn=document.getElementById('challengeQuestion');
const answerConfirmation=document.getElementById('answerConfirmation');
const challengeModal=document.getElementById('challengeModal');
const backFromChallengeBtn=document.getElementById('backFromChallenge');
const completeChallengeBtn=document.getElementById('completeChallenge');
function initLevel(levelIndex){clicks=0;correctClicks=0;attempts=0;flippedCards=[];matchedPairs=0;moves=0;patternSequence=[];playerPattern=[];if(timer){clearInterval(timer);timer=null;}if(levels[levelIndex].type==='wordscramble'){currentWordIndex=0;}if(levels[levelIndex].type==='math'){mathQuestions=[];currentMathIndex=0;mathCorrect=0;}const level=levels[levelIndex];levelTitle.innerHTML=level.title;levelDescription.innerHTML=level.description;document.querySelectorAll('.level-dot').forEach((dot,i)=>dot.classList.toggle('active',i===levelIndex));skipButton.style.display=level.canSkip?'block':'none';if(level.type!=='memory'){progressDots.forEach(dot=>dot.classList.remove('active'));}bubblesContainer.innerHTML='';bubblesContainer.className='bubbles';if(level.type==='memory'){attemptsDisplay.style.display='none';timerDisplay.style.display='block';pairsFoundDisplay.style.display='block';movesDisplay.style.display='block';progressDots.forEach(dot=>dot.style.display='none');createMemoryGame(level);}else if(level.type==='pattern'){attemptsDisplay.style.display='none';timerDisplay.style.display='none';pairsFoundDisplay.style.display='none';movesDisplay.style.display='none';progressDots.forEach(dot=>dot.style.display='none');createPatternGame(level);}else if(level.type==='wordscramble'){attemptsDisplay.style.display='none';timerDisplay.style.display='none';pairsFoundDisplay.style.display='none';movesDisplay.style.display='none';progressDots.forEach(dot=>dot.style.display='none');createWordScrambleGame(level);}else if(level.type==='story'){attemptsDisplay.style.display='none';timerDisplay.style.display='none';pairsFoundDisplay.style.display='none';movesDisplay.style.display='none';progressDots.forEach(dot=>dot.style.display='none');createStoryGame(level);}else if(level.type==='math'){attemptsDisplay.style.display='none';timerDisplay.style.display='block';pairsFoundDisplay.style.display='none';movesDisplay.style.display='none';progressDots.forEach(dot=>dot.style.display='none');createMathGame(level);}else{attemptsDisplay.style.display='block';timerDisplay.style.display='none';pairsFoundDisplay.style.display='none';movesDisplay.style.display='none';progressDots.forEach(dot=>dot.style.display='inline-block');attemptsDisplay.textContent=`Attempts: ${attempts}/${level.maxAttempts}`;createFindGame(level);}hint.textContent=level.type==='memory'?"Click cards to flip them and find matching pairs!":"Begin your quest, Sham! Click any symbol...";gameContainer.style.display='block';surprise.style.display='none';levelComplete.style.display='none';tryAgain.style.display='none';skipConfirm.style.display='none';questionModal.style.display='none';challengeModal.style.display='none';document.querySelector('.morning-message')?.remove();document.querySelector('.secret-note')?.remove();}
function createFindGame(level){const shuffledSymbols=shuffle([...level.symbols]);level.correctSymbols=shuffledSymbols.slice(0,level.correctCount);const allSymbols=shuffle([...level.symbols]);allSymbols.forEach(symbol=>{const bubble=document.createElement('div');bubble.className='bubble';bubble.textContent=symbol;bubble.dataset.isCorrect=level.correctSymbols.includes(symbol)?'true':'false';bubble.dataset.attempted='false';if(level.theme){bubble.style.background=`linear-gradient(135deg, ${level.theme.color1}, ${level.theme.color2})`;}bubblesContainer.appendChild(bubble);});const bubbles=document.querySelectorAll('.bubble');bubbles.forEach(b=>{b.removeEventListener('click',handleBubbleClick);b.addEventListener('click',handleBubbleClick);});}
function createPatternGame(level){bubblesContainer.className='bubbles';bubblesContainer.style.gridTemplateColumns='repeat(4, 1fr)';bubblesContainer.style.display='grid';const allSymbols=shuffle([...level.theme.symbols]).slice(0,16);const selectedForPattern=shuffle([...allSymbols]).slice(0,level.patternLength);patternSequence=[...selectedForPattern];hint.textContent=`Watch carefully! The pattern will show for ${level.showTime/1000} seconds...`;let displayOrder=[];patternSequence.forEach((symbol,idx)=>{setTimeout(()=>{const bubble=document.createElement('div');bubble.className='bubble clicked';bubble.textContent=symbol;bubble.style.background=`linear-gradient(135deg, ${level.theme.color1}, ${level.theme.color2})`;bubble.style.animation='successPulse 0.5s';bubblesContainer.appendChild(bubble);displayOrder.push(symbol);},idx*700);});setTimeout(()=>{bubblesContainer.innerHTML='';hint.textContent="Now recreate the pattern! Click the symbols in the same order.";const shuffledForDisplay=shuffle([...allSymbols]);shuffledForDisplay.forEach(symbol=>{const bubble=document.createElement('div');bubble.className='bubble';bubble.textContent=symbol;bubble.dataset.symbol=symbol;bubble.style.background=`linear-gradient(135deg, ${level.theme.color1}, ${level.theme.color2})`;bubble.addEventListener('click',handlePatternClick);bubblesContainer.appendChild(bubble);});},level.showTime+(level.patternLength*700));}
function handlePatternClick(e){const bubble=e.currentTarget;const symbol=bubble.dataset.symbol;if(bubble.classList.contains('clicked'))return;playerPattern.push(symbol);bubble.classList.add('clicked');bubble.style.opacity='0.5';bubble.style.pointerEvents='none';const currentIndex=playerPattern.length-1;if(playerPattern[currentIndex]!==patternSequence[currentIndex]){hint.textContent="âŒ Wrong order! Try again!";setTimeout(()=>{showTryAgain();},1000);return;}if(playerPattern.length===patternSequence.length){hint.textContent="ğŸ‰ Perfect memory! You got it right!";setTimeout(()=>showLevelComplete(),1000);}}
function createWordScrambleGame(level){bubblesContainer.className='';bubblesContainer.style.display='flex';bubblesContainer.style.flexDirection='column';bubblesContainer.style.gap='20px';bubblesContainer.style.alignItems='center';bubblesContainer.style.maxWidth='500px';bubblesContainer.style.margin='40px auto';const word=level.words[currentWordIndex];const scrambled=shuffle(word.split('')).join('');hint.textContent=`Unscramble this word! (${currentWordIndex+1}/${level.words.length})`;const scrambledDiv=document.createElement('div');scrambledDiv.style.fontSize='36px';scrambledDiv.style.fontWeight='bold';scrambledDiv.style.color='#2c3e50';scrambledDiv.style.letterSpacing='8px';scrambledDiv.style.padding='20px';scrambledDiv.style.background=`linear-gradient(135deg, ${level.theme.color1}, ${level.theme.color2})`;scrambledDiv.style.borderRadius='20px';scrambledDiv.textContent=scrambled;const input=document.createElement('input');input.type='text';input.className='question-input';input.placeholder='Type your answer...';input.style.fontSize='24px';input.style.padding='15px';input.style.width='300px';input.style.textTransform='uppercase';const submitBtn=document.createElement('button');submitBtn.className='close-btn';submitBtn.textContent='Submit';submitBtn.style.marginTop='10px';submitBtn.addEventListener('click',()=>{if(input.value.toUpperCase()===word){currentWordIndex++;if(currentWordIndex<level.words.length){createWordScrambleGame(level);}else{hint.textContent="ğŸ‰ All words completed!";setTimeout(()=>showLevelComplete(),800);}}else{input.value='';input.style.borderColor='#e74c3c';setTimeout(()=>input.style.borderColor='#bdc3c7',500);}});input.addEventListener('keypress',(e)=>{if(e.key==='Enter')submitBtn.click();});bubblesContainer.appendChild(scrambledDiv);bubblesContainer.appendChild(input);bubblesContainer.appendChild(submitBtn);input.focus();}
function createStoryGame(level){bubblesContainer.className='';bubblesContainer.style.display='flex';bubblesContainer.style.flexDirection='column';bubblesContainer.style.gap='25px';bubblesContainer.style.alignItems='center';bubblesContainer.style.maxWidth='600px';bubblesContainer.style.margin='30px auto';const stories=[{text:"Sham, remember when you thought you couldn't do it? But you kept going. Every late night, every early morning, every moment you chose to try again instead of giving up â€” that's what makes you extraordinary. Your journey isn't about being perfect. It's about being persistent.",question:"What makes someone extraordinary?",answers:["persistence","persistent","trying again","not giving up","keep going","åŠªåŠ›","Ø§Ù„Ø¥ØµØ±Ø§Ø±"]}];const story=stories[0];const storyDiv=document.createElement('div');storyDiv.style.fontSize='19px';storyDiv.style.color='#2c3e50';storyDiv.style.lineHeight='1.8';storyDiv.style.padding='30px';storyDiv.style.background=`linear-gradient(135deg, ${level.theme.color1}, ${level.theme.color2})`;storyDiv.style.borderRadius='20px';storyDiv.style.textAlign='left';storyDiv.innerHTML=`<strong style="font-size:22px; display:block; margin-bottom:15px;">ğŸ’« A Message for Sham ğŸ’«</strong>${story.text}`;hint.textContent="Read the message and answer the question below:";const questionDiv=document.createElement('div');questionDiv.style.fontSize='20px';questionDiv.style.fontWeight='bold';questionDiv.style.color='#2980b9';questionDiv.textContent=story.question;const input=document.createElement('input');input.type='text';input.className='question-input';input.placeholder='Type your answer...';input.style.fontSize='20px';const submitBtn=document.createElement('button');submitBtn.className='close-btn';submitBtn.textContent='Submit Answer';submitBtn.addEventListener('click',()=>{const answer=input.value.toLowerCase().trim();const isCorrect=story.answers.some(a=>answer.includes(a.toLowerCase()));if(isCorrect){hint.textContent="âœ… Perfect! You understood the message!";setTimeout(()=>showLevelComplete(),1000);}else{input.value='';hint.textContent="Think about what the story is telling you...";input.style.borderColor='#e74c3c';setTimeout(()=>{input.style.borderColor='#bdc3c7';hint.textContent="Read the message and answer the question below:";},2000);}});input.addEventListener('keypress',(e)=>{if(e.key==='Enter')submitBtn.click();});bubblesContainer.appendChild(storyDiv);bubblesContainer.appendChild(questionDiv);bubblesContainer.appendChild(input);bubblesContainer.appendChild(submitBtn);input.focus();}
function createMathGame(level){bubblesContainer.className='';bubblesContainer.style.display='flex';bubblesContainer.style.flexDirection='column';bubblesContainer.style.gap='20px';bubblesContainer.style.alignItems='center';bubblesContainer.style.maxWidth='500px';bubblesContainer.style.margin='40px auto';if(mathQuestions.length===0){for(let i=0;i<level.questionsCount;i++){const a=Math.floor(Math.random()*20)+1;const b=Math.floor(Math.random()*20)+1;const operations=['+','-','Ã—'];const op=operations[Math.floor(Math.random()*operations.length)];let answer;if(op==='+')answer=a+b;else if(op==='-')answer=Math.max(a,b)-Math.min(a,b);else answer=a*b;mathQuestions.push({question:`${op==='-'?Math.max(a,b):a} ${op} ${op==='-'?Math.min(a,b):b}`,answer});}timeLeft=level.maxTime;timerDisplay.textContent=`Time: ${timeLeft}s`;timer=setInterval(()=>{timeLeft--;timerDisplay.textContent=`Time: ${timeLeft}s`;if(timeLeft<=0){clearInterval(timer);timer=null;bubblesContainer.innerHTML='';const timeoutDiv=document.createElement('div');timeoutDiv.style.fontSize='24px';timeoutDiv.style.color='#e74c3c';timeoutDiv.style.padding='30px';timeoutDiv.textContent='â° Time\'s up! You solved '+mathCorrect+'/'+level.questionsCount;bubblesContainer.appendChild(timeoutDiv);hint.textContent="Don't worry! Try again!";setTimeout(()=>showTryAgain(),1500);}},1000);}if(currentMathIndex>=mathQuestions.length){if(timer){clearInterval(timer);timer=null;}bubblesContainer.innerHTML='';hint.textContent=`ğŸ‰ You solved ${mathCorrect}/${level.questionsCount} problems!`;const resultDiv=document.createElement('div');resultDiv.style.fontSize='28px';resultDiv.style.fontWeight='bold';resultDiv.style.color='#27ae60';resultDiv.style.padding='40px';resultDiv.style.background=`linear-gradient(135deg, ${level.theme.color1}, ${level.theme.color2})`;resultDiv.style.borderRadius='20px';resultDiv.style.textAlign='center';resultDiv.innerHTML=`âœ… Completed!<br><br>Score: ${mathCorrect}/${level.questionsCount}`;bubblesContainer.appendChild(resultDiv);setTimeout(()=>showLevelComplete(),1200);return;}const q=mathQuestions[currentMathIndex];hint.textContent=`Problem ${currentMathIndex+1}/${level.questionsCount} | Correct: ${mathCorrect}`;bubblesContainer.innerHTML='';const questionDiv=document.createElement('div');questionDiv.style.fontSize='48px';questionDiv.style.fontWeight='bold';questionDiv.style.color='#2c3e50';questionDiv.style.padding='30px';questionDiv.style.background=`linear-gradient(135deg, ${level.theme.color1}, ${level.theme.color2})`;questionDiv.style.borderRadius='20px';questionDiv.textContent=q.question+' = ?';const input=document.createElement('input');input.type='number';input.className='question-input';input.placeholder='Answer';input.style.fontSize='32px';input.style.width='200px';input.style.textAlign='center';const submitBtn=document.createElement('button');submitBtn.className='close-btn';submitBtn.textContent='Submit';submitBtn.addEventListener('click',()=>{const userAnswer=parseInt(input.value);if(!isNaN(userAnswer)&&userAnswer===q.answer){mathCorrect++;input.style.borderColor='#27ae60';hint.textContent=`âœ… Correct! (${currentMathIndex+1}/${level.questionsCount}) | Score: ${mathCorrect}`;}else{input.style.borderColor='#e74c3c';hint.textContent=`âŒ Wrong! Answer was ${q.answer} | Score: ${mathCorrect}`;}setTimeout(()=>{currentMathIndex++;createMathGame(level);},500);});input.addEventListener('keypress',(e)=>{if(e.key==='Enter'&&input.value.trim()!=='')submitBtn.click();});bubblesContainer.appendChild(questionDiv);bubblesContainer.appendChild(input);bubblesContainer.appendChild(submitBtn);setTimeout(()=>input.focus(),100);}
function createMemoryGame(level){let pairsArray=[];for(let i=0;i<level.pairs;i++){pairsArray.push(level.symbols[i]);pairsArray.push(level.symbols[i]);}pairsArray=shuffle(pairsArray);const gridSize=level.pairs===4?4:level.pairs===5?4:level.pairs===6?4:4;bubblesContainer.className='memory-grid';bubblesContainer.style.display='grid';bubblesContainer.style.gridTemplateColumns=`repeat(${gridSize}, 1fr)`;bubblesContainer.style.gap='15px';bubblesContainer.style.justifyItems='center';pairsArray.forEach(symbol=>{const card=document.createElement('div');card.className='memory-card';card.dataset.symbol=symbol;if(level.theme){card.innerHTML=`<div class="memory-card-inner"><div class="memory-card-front" style="background:linear-gradient(135deg, ${level.theme.color1}, ${level.theme.color2})">?</div><div class="memory-card-back" style="background:linear-gradient(135deg,#2980b9,#1a2a6c)">${symbol}</div></div>`;}else{card.innerHTML=`<div class="memory-card-inner"><div class="memory-card-front">?</div><div class="memory-card-back">${symbol}</div></div>`;}bubblesContainer.appendChild(card);});timeLeft=level.maxTime;timerDisplay.textContent=`Time: ${timeLeft}s`;timer=setInterval(()=>{timeLeft--;timerDisplay.textContent=`Time: ${timeLeft}s`;if(timeLeft<=0){clearInterval(timer);timer=null;showTryAgain();hint.textContent="â° Time's up! Better luck next time!";}},1000);pairsFoundDisplay.textContent=`Pairs Found: ${matchedPairs}/${level.pairs}`;movesDisplay.textContent=`Moves: ${moves}`;const cards=document.querySelectorAll('.memory-card');cards.forEach(card=>{card.removeEventListener('click',handleMemoryCardClick);card.addEventListener('click',handleMemoryCardClick);});}
function handleBubbleClick(e){const bubble=e.currentTarget;if(!bubble)return;if(bubble.classList.contains('clicked')||bubble.classList.contains('wrong'))return;const isCorrect=bubble.dataset.isCorrect==='true';clicks++;if(isCorrect){correctClicks++;bubble.classList.add('clicked');}else{attempts++;bubble.classList.add('wrong');const level=levels[currentLevel];attemptsDisplay.textContent=`Attempts: ${attempts}/${level.maxAttempts}`;if(attempts>=level.maxAttempts&&correctClicks<level.correctCount){hint.textContent="ğŸ˜” You've used all your attempts. Try again!";const bubbles=document.querySelectorAll('.bubble');bubbles.forEach(b=>{if(b.dataset.isCorrect==='true'&&!b.classList.contains('clicked')){b.classList.add('clicked');b.style.opacity='1';}});showTryAgain();return;}}progressDots.forEach((dot,i)=>dot.classList.toggle('active',i<correctClicks));const level=levels[currentLevel];if(correctClicks===1)hint.textContent=`Amazing, Sham! One down, ${level.correctCount-1} to go!`;else if(correctClicks===2)hint.textContent=`You're crushing it! ${level.correctCount-2} more to go!`;else if(correctClicks===3&&level.correctCount>3)hint.textContent=`Incredible! You've found 3 symbols. Keep going!`;else if(correctClicks===level.correctCount-1)hint.textContent="Just one more! You're almost there!";else if(correctClicks===level.correctCount){hint.textContent="ğŸ‰ Victory is yours! Preparing your next challenge...";setTimeout(()=>showLevelComplete(),800);}else if(clicks>=6&&correctClicks<level.correctCount&&attempts>0)hint.textContent="Don't give up! You're smarter than this!";}
function handleMemoryCardClick(e){const card=e.target.closest('.memory-card');if(!card)return;const level=levels[currentLevel];if(card.classList.contains('flipped')||card.classList.contains('matched'))return;if(flippedCards.length>=2)return;card.classList.add('flipped');flippedCards.push(card);if(flippedCards.length===2){moves++;movesDisplay.textContent=`Moves: ${moves}`;if(moves>level.maxMoves&&matchedPairs<level.pairs){setTimeout(()=>{clearInterval(timer);timer=null;showTryAgain();hint.textContent="âŒ You've used all your moves! Try again!";},800);return;}const[card1,card2]=flippedCards;const symbol1=card1.dataset.symbol,symbol2=card2.dataset.symbol;if(symbol1===symbol2){setTimeout(()=>{card1.classList.add('matched');card2.classList.add('matched');matchedPairs++;pairsFoundDisplay.textContent=`Pairs Found: ${matchedPairs}/${level.pairs}`;flippedCards=[];if(matchedPairs===level.pairs){clearInterval(timer);timer=null;hint.textContent="ğŸ‰ Memory Master! Preparing your next challenge...";setTimeout(()=>showLevelComplete(),800);}},400);}else{setTimeout(()=>{card1.classList.remove('flipped');card2.classList.remove('flipped');flippedCards=[];},1000);}}}
function showLevelComplete(){gameContainer.style.display='none';levelComplete.style.display='block';createConfetti();const messages=["Great job, Sham! You've mastered this level.","You're unstoppable! Ready for more?","That was impressive! Let's keep the momentum going.","You're getting better with every level!","Brilliant work! Your focus is paying off.","Level conquered! Your potential is showing."];document.querySelector('.level-complete p').textContent=messages[Math.floor(Math.random()*messages.length)]+" Get ready for the next challenge!";}
function showTryAgain(){gameContainer.style.display='none';tryAgain.style.display='flex';}
function showSurprise(){createConfetti();gameContainer.style.display='none';surprise.style.display='flex';localStorage.setItem('completedAllLevels','true');}
closeBtn.addEventListener('click',()=>{surprise.style.display='none';gameContainer.style.display='block';levels=generateRandomLevels();currentLevel=0;initLevel(currentLevel);if(localStorage.getItem('completedAllLevels')==='true'){setTimeout(()=>{const note=document.createElement('div');note.className='secret-note';note.innerHTML=`<strong>LET says:</strong><br>You didn't just complete a game.<br>You proved something to yourself.`;document.body.appendChild(note);setTimeout(()=>note.remove(),8000);},1000);}});
nextLevelBtn.addEventListener('click',()=>{levelComplete.style.display='none';currentLevel++;if(currentLevel<levels.length)initLevel(currentLevel);else showSurprise();});
tryAgainBtn.addEventListener('click',()=>{tryAgain.style.display='none';initLevel(currentLevel);});
skipButton.addEventListener('click',()=>{skipConfirm.style.display='flex';});
cancelSkipBtn.addEventListener('click',()=>{skipConfirm.style.display='none';});
confirmSkipBtn.addEventListener('click',()=>{skipConfirm.style.display='none';const question=getRandomQuestion();questionText.textContent=question.question;questionInput.value='';answerConfirmation.textContent='';questionModal.style.display='flex';questionInput.focus();});
cancelQuestionBtn.addEventListener('click',()=>{questionModal.style.display='none';skipConfirm.style.display='flex';});
challengeQuestionBtn.addEventListener('click',()=>{questionModal.style.display='none';challengeModal.style.display='flex';});
backFromChallengeBtn.addEventListener('click',()=>{challengeModal.style.display='none';questionModal.style.display='flex';});
completeChallengeBtn.addEventListener('click',()=>{questionInput.value="Sham/LET";answerConfirmation.textContent="âœ… Challenge completed! Answer revealed: Sham/LET";answerConfirmation.style.color="#27ae60";setTimeout(()=>{challengeModal.style.display='none';questionModal.style.display='flex';setTimeout(()=>submitQuestionBtn.click(),800);},1000);});
submitQuestionBtn.addEventListener('click',()=>{const answer=questionInput.value.trim().toLowerCase();const question=personalQuestions.find(q=>q.question===questionText.textContent);if(!question)return;const isChallengeAnswer=["sham/let","let/sham","sham","let","sham let","let sham"].includes(answer);const isCorrect=isChallengeAnswer||question.answers.some(correct=>answer===correct.toLowerCase()||answer.includes(correct.toLowerCase())||correct.toLowerCase().includes(answer));if(isCorrect){answerConfirmation.textContent="âœ… Correct! You've earned the right to skip.";answerConfirmation.style.color="#27ae60";setTimeout(()=>{questionModal.style.display='none';currentLevel++;if(currentLevel<levels.length)initLevel(currentLevel);else showSurprise();},900);}else{answerConfirmation.textContent="âŒ That's not quite right. Try again!";answerConfirmation.style.color="#e74c3c";questionInput.value='';questionInput.focus();}});
questionInput.addEventListener('keypress',(e)=>{if(e.key==='Enter')submitQuestionBtn.click();});
const today=new Date().toLocaleDateString('en-GB');
if(localStorage.getItem('studyQuestLastVisit')!==today){localStorage.setItem('studyQuestLastVisit',today);const motivationalMessages=["You've come so far. Not because it was easy â€” but because you chose to keep going.","Every challenge you face is shaping you into someone stronger.","Your effort today becomes your strength tomorrow.","Small steps every day lead to incredible places.","You're not just studying â€” you're building your future.","Remember: progress, not perfection.","The fact that you're here means you haven't given up. That's powerful.","Today is a new page. Let's make it count."];const randomMessage=motivationalMessages[Math.floor(Math.random()*motivationalMessages.length)];const morningMessage=document.createElement('div');morningMessage.className='morning-message';morningMessage.innerHTML=`<h2>â˜€ï¸ Good morning, Sham.</h2><p>Today is ${new Date().toLocaleDateString('en-GB',{weekday:'long',month:'long',day:'numeric'})}.<br>${randomMessage}<br><br>Let's make today count â€” one page, one problem, one step at a time.<br>I'm right here with you.</p><button class="close-btn">Start My Day</button>`;document.body.appendChild(morningMessage);morningMessage.querySelector('.close-btn').addEventListener('click',()=>morningMessage.remove());}
initLevel(currentLevel);
</script>
</body>
</html>
